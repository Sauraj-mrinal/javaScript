<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        // promise 1
  //     let p1 = new Promise((resolve, reject) =>{
      
  //       setTimeout(()=>{
  //           console.log("the first promise has been resolved");
  //           resolve(10);
  //       },1 *1000)

  //     })
  //       // promise 2
  //       let p2 = new Promise((resolve, reject) =>{
      
  //     setTimeout(()=>{
  //         console.log("the second promise has been resolved");
  //         resolve(20);
  //     },2 *1000)

  //       // promise 3
  //       let p3 = new Promise((resolve, reject) =>{
      
  //     setTimeout(()=>{
  //         console.log("the third promise has been resolved");
  //         resolve(30);
  //     },3 *1000)

  //   })
    

  //   });
  // // if you want to chack multiple promises then you have to create an array
    // var total=0;
    // Promise.all([p1,p2,p3]).then((resuly)=>{
    //   // if all promises are resolved then --" then " method will be called
    //   // if any of them are rejected then ---" reject " method wii be called
    //   for(var i in resuly){
    //      total = total +  resuly[i];
    //   }
        
    //     console.log(`total is ${total}`);
    // }).catch((err)=>{
    //     console.log("error is " + err);
    // });

  // in place of 3 promises we can do same work uisng a single promises method 

  // see the example below 
  let promiseCall = function(retuernData , message ){

        return function(resolve, reject){
        setTimeout(()=>{
        console.log(`the ${message} promise has resolved`);
        resoved(retuernData);
    },retuernData*100);

       }
  };

  let p1 = new Promise(promiseCall(10, "first"));
  let p2 = new Promise(promiseCall(20, "second"));
  let p3 = new Promise(promiseCall(30, "third"));
  // for reject 
  let p4 = new Promise(function(resolve, reject){
        reject("4th promise has rejected");
  });

  var total=0;s
    Promise.all([p1,p2,p3,p4]).then((resuly)=>{
      // if all promises are resolved then --" then " method will be called
      // if any of them are rejected then ---" reject " method wii be called
      for(var i in resuly){
         total = total +  resuly[i];
      }
        
        console.log(`total is ${total}`);
    }).catch((err)=>{
        console.log("error is " + err);
    });

    </script>
</head>
<body>
    
</body>
</html>